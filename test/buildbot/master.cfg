[buildout]
master-parts =
    master
    tcpcrypt
# uncomment this to enable polling
    poller

[master]
recipe = collective.buildbot:master
project-name = tcpcrypt
project-url = http://tcpcrypt.org/

# allow to force build with the web interface
allow-force = true

# internal port
port = 9050

# http port
wport = 9080

# buildbot url. change this if you use a virtualhost
url = http://hs09.scs.stanford.edu:9080/

# static files
public-html = ${buildout:directory}/public_html

slaves =
    ubuntu-lucid-i386 secret
    ubuntu-lucid-amd64 secret
    debian-squeeze-amd64 secret
    freebsd-81-amd64 secret
    macosx-106 secret
    winxp-i386 secret

# maximum number of builds to run on one slave
#max-builds = 2

[tcpcrypt]
recipe = collective.buildbot:project
slave-names = 
    ubuntu-lucid-i386
    ubuntu-lucid-amd64
    debian-squeeze-amd64
    freebsd-81-amd64
    macosx-106
    winxp-i386
vcs = git
repositories = git://github.com/sqs/tcpcrypt.git

# notifications
mail-host = smtp.stanford.edu
email-notification-sender = sqs@cs.stanford.edu
email-notification-recipients = sqs@cs.stanford.edu

# every 3 hours
periodic-scheduler=180

# cron build
cron-scheduler = 0 8 * * *

build-sequence =
    make -C user clean
    make -C user
    make -C user install

test-sequence =
    curl http://tcpcrypt.org

[poller]
recipe = collective.buildbot:poller
repositories = git://github.com/sqs/tcpcrypt.git
poll-interval = 120


